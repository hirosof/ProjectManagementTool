
# Phase 5（Textual版）設計整理スレッド【B】

本スレッドは、
プロジェクト管理ツール **Phase 5（Textual版）** における  
**設計整理・UI構成・操作フローを整理するための Bスレッド**です。

本スレッドは、すでに確定している **フェーズ分解結果**を前提とし、  
**Phase 5 のスコープ内で「どう作るか」「どう使わせるか」を明確にする**ことを目的とします。

---

## 前提（確定事項）

- Phase 5 は **Textual を用いた全画面TUI版**
- Phase 4 までの CLI 版とは **別プログラム／別系統**
- Phase 5 のスコープは **すでに確定済み**
  - 重心は **SubProjectテンプレート機能**
  - Phase 6 以降の機能は本スレッドでは扱わない
- 本スレッドの結論は、Phase 5 マスター進行管理スレッドに **確定事項として転記**される

---

## 本スレッドの目的

- Phase 5（Textual版）の **画面構成**を整理する
- **主要画面と遷移関係**を明確にする
- テンプレート機能の **UIフロー（保存 / 一覧 / 適用 / dry-run）** を設計する
- CLI版との **役割分担・機能呼び出し関係**を整理する

---

## 本スレッドでやること（Do）

- 画面単位での役割整理
- キー操作・基本インタラクションの方針整理
- テンプレート機能の操作フロー整理
- 初回起動時（DB未作成時）の案内フロー整理
- Textual UI と CLI 処理層の接続方針整理

---

## 本スレッドでやらないこと（Don't）

- Phase 5 / Phase 6 の再分解
- 機能の追加提案
- 実装コードレビュー
- 想定外事象の整理（必要時は Aスレッドへ）

---

## 設計整理の観点（ガイド）

以下の観点を意識して整理する。

- **Textualである必然性があるか**
- **マウスなし・キーボード中心で成立するか**
- **操作が迷路化していないか**
- **dry-run・確認が自然な導線に入っているか**
- **CLI版に処理を委譲できる部分は委譲できているか**

---

## 検討対象（整理単位）

### 1. 画面構成（例）

- Home（Project一覧）
- Project詳細
- SubProject詳細
- Template一覧
- Template保存
- Template適用（dry-run / 実行確認）

※ これは叩き台。変更・統合・削除可。

---

### 2. テンプレート機能 UI フロー（必須）

- 保存フロー
  - 対象選択 → 名前入力 → 確認 → 保存
- 一覧フロー
  - 一覧表示 → 選択 → 詳細表示
- 適用フロー
  - 適用先選択 → dry-run 表示 → 実行確認 → 完了

---

### 3. 初回起動・DB未作成時の導線

- DB未検出時の画面
- 新規作成 or 既存選択の案内
- 単一DB前提のUI表現

---

### 4. CLI版との役割分担

- Textual：UI / フロー制御 / 確認
- CLIロジック層：DB操作 / 検証 / dry-run実処理
- 呼び出し境界の明確化

---

## 記載フォーマット（推奨）

```

### 画面名 / 機能名

* 役割：
* 主な操作：
* 遷移元：
* 遷移先：
* 補足：

```

---

## 本スレッドの出口（完了条件）

- Phase 5（Textual版）の **画面構成と主要フローが確定**
- テンプレート機能の **UI導線が一貫して説明可能**
- Claude Code に渡せる **設計整理結果**が得られている

---

（ここから Phase 5 設計整理を開始）

